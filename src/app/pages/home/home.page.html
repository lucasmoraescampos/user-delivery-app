<app-header></app-header>

<ion-content class="animate__animated animate__fadeIn" mode="ios">

  <div class="ion-scroll">

    <ion-slides class="animate__animated animate__bounceInRight categories" [options]="categorySlideOptions" *ngIf="categories?.length > 0">

      <ion-slide *ngFor="let category of categories">

        <ion-thumbnail>

          <img [src]="category.image">

        </ion-thumbnail>

        <h6>{{ category.name }}</h6>

      </ion-slide>

    </ion-slides>

    <ion-list *ngFor="let category of categories">

      <ion-list-header class="animate__animated animate__bounceInRight" *ngIf="category.companies.length > 0">{{ category.name }}</ion-list-header>

      <ion-slides class="animate__animated animate__bounceInRight companies" [options]="companiesSlideOptions" *ngIf="category.companies.length > 0">

        <ion-slide *ngFor="let company of category.companies">

          <ion-card button="true" (click)="openCompany(company.slug)">

            <ion-badge color="dark" *ngIf="!company.open">Fechado</ion-badge>

            <ion-item lines="none">

              <ion-thumbnail slot="start">

                <img [src]="company.image">

              </ion-thumbnail>

              <ion-label>

                <h6>{{ company.name }}</h6>

                <p>

                  <span class="stars">

                    <ion-icon name="star"></ion-icon>
                    
                    <span *ngIf="company.evaluation">&nbsp;{{ company.evaluation }}</span>

                    <span *ngIf="!company.evaluation">&nbsp;Novo</span>

                  </span>

                  <span class="ellipse"></span>

                  {{ company.distance | number:'1.0-2' }} km

                  <span class="ellipse"></span>

                  {{ company.waiting_time }} min

                </p>

                <p>

                  Entrega
                  
                  <span *ngIf="company.delivery_price">&nbsp;R$ {{ company.delivery_price | number:'1.2-2' }}</span>

                  <span class="free" *ngIf="!company.delivery_price">&nbsp;Gr√°tis</span>

                </p>

              </ion-label>

            </ion-item>

          </ion-card>

        </ion-slide>

      </ion-slides>

    </ion-list>

  </div>

</ion-content>